<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>GPA</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>

   <div class="from_div">
      <h2>GPA CALCULATOR</h2>
      <input type="number" id="sr" placeholder="Subject number here">
      <input type="number" id="ch" placeholder="Credit hour here">
      <select id="gp" style="width: 20vw">
         <option value="a" selected="">A</option>
         <option value="a-">A-</option>
         <option value="b+">B+</option>
         <option value="b">B</option>
         <option value="b-">B-</option>
         <option value="c+">C+</option>
         <option value="c">C</option>
         <option value="c-">C-</option>
         <option value="d+">D+</option>
         <option value="d">D</option>
         <option value="d-">D-</option>
         <option value="f">F</option>
      </select>
      <button id="submit" onclick="newrow()">add</button>
   </div>
   <table border="1px" id="tbl">
      <tbody id="tbody">
      </tbody>
   </table>
   <button onclick="gpa()">Calculate GPA</button>
   <div>
      <span id="gps"></span>
   </div>
   <script>
      let btn = document.getElementById("submit");
      btn.onclick = newrow;
      function newrow()
      {
         let sr = document.getElementById("sr").value;
         let ch = document.getElementById("ch").value;
         let gp = document.getElementById("gp").value;
         let table = document.getElementById("tbody");
         if(table.rows.length == 0)
         {
            table.innerHTML+= "<thead><th>sr</th><th>ch</th><th>gp</th></thead>"
         }
         table.innerHTML += '<tr><td>'+sr+'</td><td>'+ch+'</td><td>'+gp+'</td></tr>'
         document.getElementById("sr").value =  null ;
         document.getElementById("ch").value = null ;
         document.getElementById("gp").value =  null ;
      }
      function gpa()
      {
         let sumofgp=0,sumofhrs=0;
         let tbl = document.getElementById("tbl").rows;
         for (let index = 1; index < tbl.length; index++) {
            const row = tbl[index];
            let  x = getgp(row.cells[2].innerHTML);
            console.log(x)
            sumofgp+=(parseInt(row.cells[1].innerHTML)*x);
            sumofhrs+=parseInt(row.cells[1].innerHTML);
         }
         let gpa = sumofgp/sumofhrs;
         document.getElementById("gps").innerHTML += "Result:- " + gpa;
      }
      function getgp(value)
      {
         if(value == "a") return 4;
         if(value == "a-") return 3.7;
         if(value == "b+") return 3.33;
         if(value == "b") return 3;
         if(value == "b-") return 2.7;
         if(value == "c+") return 2.3;
         if(value == "c") return 2;
         if(value == "c-") return 1.7;
         if(value == "d+") return 1.3;
         if(value == "d") return 1;
         if(value == "d-") return 0.7;
         if(value == "f") return 0;
      }
   </script>
</body>
</html>
